(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{377:function(t,s,e){"use strict";e.r(s);var a=e(45),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"常见问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),e("h2",{attrs:{id:"构建时出现空白屏幕-但在服务上运行良好"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#构建时出现空白屏幕-但在服务上运行良好"}},[t._v("#")]),t._v(" 构建时出现空白屏幕，但在服务上运行良好")]),t._v(" "),e("p",[t._v("这个问题很可能是 Vue Router 在 "),e("code",[t._v("history")]),t._v(" mode 下运行时引起的。 在 Electron 中， 它只在hash模式下工作。要解决此问题，请编辑您的 "),e("code",[t._v("src/router.(js|ts)")]),t._v(":")]),t._v(" "),e("p",[t._v("如果使用 Vue 2:")]),t._v(" "),e("div",{staticClass:"language-diff extra-class"},[e("pre",{pre:!0,attrs:{class:"language-diff"}},[e("code",[t._v("export default new Router({\n"),e("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[e("span",{pre:!0,attrs:{class:"token prefix deleted"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token line"}},[t._v(" mode: 'history',\n")])]),e("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[e("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),e("span",{pre:!0,attrs:{class:"token line"}},[t._v(" mode: process.env.IS_ELECTRON ? 'hash' : 'history',\n")])]),t._v("})\n")])])]),e("p",[t._v("如果使用 Vue 3:")]),t._v(" "),e("div",{staticClass:"language-diff extra-class"},[e("pre",{pre:!0,attrs:{class:"language-diff"}},[e("code",[t._v("const router = createRouter({\n"),e("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[e("span",{pre:!0,attrs:{class:"token prefix deleted"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token line"}},[t._v(" history: createWebHistory(),\n")])]),e("span",{pre:!0,attrs:{class:"token unchanged"}},[e("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),e("span",{pre:!0,attrs:{class:"token line"}},[t._v(" // (you will need to import these functions from 'vue-router')\n")])]),e("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[e("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),e("span",{pre:!0,attrs:{class:"token line"}},[t._v(" history: process.env.IS_ELECTRON ? createWebHashHistory() : createWebHistory(),\n")])]),t._v("})\n")])])]),e("p",[t._v("这将使 router 在 Electron 构建中以哈希模式运行，但不会影响 Web 构建。")]),t._v(" "),e("h2",{attrs:{id:"electron-serve-卡在-launching-electron"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#electron-serve-卡在-launching-electron"}},[t._v("#")]),t._v(" "),e("code",[t._v("electron:serve")]),t._v(" 卡在 "),e("code",[t._v("Launching Electron...")])]),t._v(" "),e("p",[t._v("通常这个问题是由于 Vue Devtools 安装失败引起的。如果您所在的位置（例如：中国）无法访问 Vue Devtools，则可能会发生这种情况。要解决此问题，您可能必须通过从 src/background.(js|ts)` 文件中删除以下面的代码，实现禁用 Vue Devtools ：")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isDevelopment "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("IS_TEST")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Install Vue Devtools")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("installExtension")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VUEJS_DEVTOOLS")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"async-函数中的异常未记录到-console"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#async-函数中的异常未记录到-console"}},[t._v("#")]),t._v(" "),e("code",[t._v("async")]),t._v(" 函数中的异常未记录到 console")]),t._v(" "),e("p",[t._v("可以通过在 Vue App "),e("code",[t._v("src/main.js")]),t._v(" 的入口点添加以下代码来修复这个 bug:")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unhandledRejection'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("更多细节参阅 "),e("a",{attrs:{href:"https://github.com/nklayman/vue-cli-plugin-electron-builder/issues/118",target:"_blank",rel:"noopener noreferrer"}},[t._v("#118"),e("OutboundLink")],1),t._v("。感谢"),e("a",{attrs:{href:"https://github.com/dspangenberg",target:"_blank",rel:"noopener noreferrer"}},[t._v("dspangenberg"),e("OutboundLink")],1),t._v(" 修复它。")]),t._v(" "),e("h2",{attrs:{id:"其他问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他问题"}},[t._v("#")]),t._v(" 其他问题")]),t._v(" "),e("p",[t._v("很多问题可以通过重新调用 Vue CLI Plugin Electron Builder 的生成器来解决。这允许它向您的项目文件添加更新的代码。您可能需要在升级插件后执行此操作。")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在项目根目录下")]),t._v("\nvue invoke electron-builder\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);